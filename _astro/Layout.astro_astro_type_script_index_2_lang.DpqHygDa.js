import{B as Yo,g as Ko,s as Qo,d as Go,b as Zo,e as Qe,f as Jo}from"./setting-utils.q8h68fsb.js";import{p as ts,u as es}from"./url-utils.DpVf-27Z.js";import{s as kn}from"./config.Cee_7p_y.js";import"./zh_TW.BX73iyju.js";/*!
 * OverlayScrollbars
 * Version: 2.11.5
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const mt=(t,e)=>{const{o:n,i:o,u:s}=t;let c=n,r;const a=(l,d)=>{const v=c,g=l,u=d||(o?!o(v,g):v!==g);return(u||s)&&(c=g,r=v),[c,u,r]};return[e?l=>a(e(c,r),l):a,l=>[c,!!l,r]]},ns=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,pt=ns?window:{},Jn=Math.max,os=Math.min,Ge=Math.round,xe=Math.abs,Mn=Math.sign,to=pt.cancelAnimationFrame,fn=pt.requestAnimationFrame,pn=pt.setTimeout,eo=pt.clearTimeout,$e=t=>typeof pt[t]<"u"?pt[t]:void 0,ss=$e("MutationObserver"),Dn=$e("IntersectionObserver"),zt=$e("ResizeObserver"),Gt=$e("ScrollTimeline"),mn=t=>t===void 0,Ae=t=>t===null,At=t=>typeof t=="number",ne=t=>typeof t=="string",He=t=>typeof t=="boolean",St=t=>typeof t=="function",wt=t=>Array.isArray(t),Se=t=>typeof t=="object"&&!wt(t)&&!Ae(t),hn=t=>{const e=!!t&&t.length,n=At(e)&&e>-1&&e%1==0;return wt(t)||!St(t)&&n?e>0&&Se(t)?e-1 in t:!0:!1},Ee=t=>!!t&&t.constructor===Object,Ce=t=>t instanceof HTMLElement,ke=t=>t instanceof Element;function Q(t,e){if(hn(t))for(let n=0;n<t.length&&e(t[n],n,t)!==!1;n++);else t&&Q(Object.keys(t),(n=>e(t[n],n,t)));return t}const no=(t,e)=>t.indexOf(e)>=0,Zt=(t,e)=>t.concat(e),nt=(t,e,n)=>(!ne(e)&&hn(e)?Array.prototype.push.apply(t,e):t.push(e),t),Dt=t=>Array.from(t||[]),yn=t=>wt(t)?t:!ne(t)&&hn(t)?Dt(t):[t],Le=t=>!!t&&!t.length,Ze=t=>Dt(new Set(t)),yt=(t,e,n)=>{Q(t,s=>s?s.apply(void 0,e||[]):!0),n||(t.length=0)},oo="paddingTop",so="paddingRight",co="paddingLeft",ro="paddingBottom",io="marginLeft",lo="marginRight",ao="marginBottom",gn="overflowX",vn="overflowY",Me="width",De="height",$t="visible",bt="hidden",Ut="scroll",cs=t=>{const e=String(t||"");return e?e[0].toUpperCase()+e.slice(1):""},_e=(t,e,n,o)=>{if(t&&e){let s=!0;return Q(n,(c=>{const r=t[c],a=e[c];r!==a&&(s=!1)})),s}return!1},uo=(t,e)=>_e(t,e,["w","h"]),ve=(t,e)=>_e(t,e,["x","y"]),rs=(t,e)=>_e(t,e,["t","r","b","l"]),k=(t,...e)=>t.bind(0,...e),Nt=t=>{let e;const n=t?pn:fn,o=t?eo:to;return[s=>{o(e),e=n((()=>s()),St(t)?t():t)},()=>o(e)]},_n=t=>{const e=St(t)?t():t;if(At(e)){const n=e?pn:fn,o=e?eo:to;return s=>{const c=n((()=>s()),e);return()=>{o(c)}}}return e&&e._},Oe=(t,e)=>{const{p:n,v:o,S:s,m:c}=e||{};let r,a,i,f,l;const d=function(T){a&&a(),r&&r(),l=a=r=i=void 0,t.apply(this,T)},v=E=>c&&i?c(i,E):E,g=()=>{a&&d(v(f)||f)},u=function(){const T=Dt(arguments),H=_n(n);if(H){const B=_n(o),S=v(T)||T,$=d.bind(0,S);a&&a(),s&&!l?($(),l=!0,a=H((()=>l=void 0))):(a=H($),B&&!r&&(r=B(g))),i=f=S}else d(T)};return u.O=g,u},fo=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),xt=t=>t?Object.keys(t):[],U=(t,e,n,o,s,c,r)=>{const a=[e,n,o,s,c,r];return(typeof t!="object"||Ae(t))&&!St(t)&&(t={}),Q(a,(i=>{Q(i,((f,l)=>{const d=i[l];if(t===d)return!0;const v=wt(d);if(d&&Ee(d)){const g=t[l];let u=g;v&&!wt(g)?u=[]:!v&&!Ee(g)&&(u={}),t[l]=U(u,d)}else t[l]=v?d.slice():d}))})),t},po=(t,e)=>Q(U({},t),((n,o,s)=>{n===void 0?delete s[o]:n&&Ee(n)&&(s[o]=po(n))})),bn=t=>!xt(t).length,Jt=()=>{},mo=(t,e,n)=>Jn(t,os(e,n)),Bt=t=>Ze((wt(t)?t:(t||"").split(" ")).filter((e=>e))),wn=(t,e)=>t&&t.getAttribute(e),Bn=(t,e)=>t&&t.hasAttribute(e),Tt=(t,e,n)=>{Q(Bt(e),(o=>{t&&t.setAttribute(o,String(n||""))}))},Et=(t,e)=>{Q(Bt(e),(n=>t&&t.removeAttribute(n)))},Be=(t,e)=>{const n=Bt(wn(t,e)),o=k(Tt,t,e),s=(c,r)=>{const a=new Set(n);return Q(Bt(c),(i=>{a[r](i)})),Dt(a).join(" ")};return{C:c=>o(s(c,"delete")),$:c=>o(s(c,"add")),H:c=>{const r=Bt(c);return r.reduce(((a,i)=>a&&n.includes(i)),r.length>0)}}},ho=(t,e,n)=>(Be(t,e).C(n),k(xn,t,e,n)),xn=(t,e,n)=>(Be(t,e).$(n),k(ho,t,e,n)),Te=(t,e,n,o)=>(o?xn:ho)(t,e,n),Sn=(t,e,n)=>Be(t,e).H(n),yo=t=>Be(t,"class"),go=(t,e)=>{yo(t).C(e)},En=(t,e)=>(yo(t).$(e),k(go,t,e)),vo=(t,e)=>{const n=e?ke(e)&&e:document;return n?Dt(n.querySelectorAll(t)):[]},is=(t,e)=>{const n=e?ke(e)&&e:document;return n&&n.querySelector(t)},Je=(t,e)=>ke(t)&&t.matches(e),bo=t=>Je(t,"body"),tn=t=>t?Dt(t.childNodes):[],te=t=>t&&t.parentElement,Rt=(t,e)=>ke(t)&&t.closest(e),en=t=>document.activeElement,ls=(t,e,n)=>{const o=Rt(t,e),s=t&&is(n,o),c=Rt(s,e)===o;return o&&s?o===t||s===t||c&&Rt(Rt(t,n),e)!==o:!1},Xt=t=>{Q(yn(t),(e=>{const n=te(e);e&&n&&n.removeChild(e)}))},ft=(t,e)=>k(Xt,t&&e&&Q(yn(e),(n=>{n&&t.appendChild(n)})));let wo;const as=()=>wo,us=t=>{wo=t},Vt=t=>{const e=document.createElement("div");return Tt(e,"class",t),e},xo=t=>{const e=Vt(),n=as(),o=t.trim();return e.innerHTML=n?n.createHTML(o):o,Q(tn(e),(s=>Xt(s)))},Pn=(t,e)=>t.getPropertyValue(e)||t[e]||"",So=t=>{const e=t||0;return isFinite(e)?e:0},ye=t=>So(parseFloat(t||"")),nn=t=>Math.round(t*1e4)/1e4,Eo=t=>`${nn(So(t))}px`;function ee(t,e){t&&e&&Q(e,((n,o)=>{try{const s=t.style,c=Ae(n)||He(n)?"":At(n)?Eo(n):n;o.indexOf("--")===0?s.setProperty(o,c):s[o]=c}catch{}}))}function Lt(t,e,n){const o=ne(e);let s=o?"":{};if(t){const c=pt.getComputedStyle(t,n)||t.style;s=o?Pn(c,e):Dt(e).reduce(((r,a)=>(r[a]=Pn(c,a),r)),s)}return s}const zn=(t,e,n)=>{const o=e?`${e}-`:"",s=n?`-${n}`:"",c=`${o}top${s}`,r=`${o}right${s}`,a=`${o}bottom${s}`,i=`${o}left${s}`,f=Lt(t,[c,r,a,i]);return{t:ye(f[c]),r:ye(f[r]),b:ye(f[a]),l:ye(f[i])}},Ve=(t,e)=>`translate${Se(t)?`(${t.x},${t.y})`:`${e?"X":"Y"}(${t})`}`,ds=t=>!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length),fs={w:0,h:0},Pe=(t,e)=>e?{w:e[`${t}Width`],h:e[`${t}Height`]}:fs,ps=t=>Pe("inner",t||pt),qt=k(Pe,"offset"),Co=k(Pe,"client"),Ie=k(Pe,"scroll"),Cn=t=>{const e=parseFloat(Lt(t,Me))||0,n=parseFloat(Lt(t,De))||0;return{w:e-Ge(e),h:n-Ge(n)}},qe=t=>t.getBoundingClientRect(),ms=t=>!!t&&ds(t),on=t=>!!(t&&(t[De]||t[Me])),Lo=(t,e)=>{const n=on(t);return!on(e)&&n},Nn=(t,e,n,o)=>{Q(Bt(e),(s=>{t&&t.removeEventListener(s,n,o)}))},Z=(t,e,n,o)=>{var s;const c=(s=o&&o.T)!=null?s:!0,r=o&&o.I||!1,a=o&&o.A||!1,i={passive:c,capture:r};return k(yt,Bt(e).map((f=>{const l=a?d=>{Nn(t,f,l,r),n&&n(d)}:n;return t&&t.addEventListener(f,l,i),k(Nn,t,f,l,r)})))},Oo=t=>t.stopPropagation(),sn=t=>t.preventDefault(),To=t=>Oo(t)||sn(t),Ct=(t,e)=>{const{x:n,y:o}=At(e)?{x:e,y:e}:e||{};At(n)&&(t.scrollLeft=n),At(o)&&(t.scrollTop=o)},ht=t=>({x:t.scrollLeft,y:t.scrollTop}),Io=()=>({D:{x:0,y:0},M:{x:0,y:0}}),hs=(t,e)=>{const{D:n,M:o}=t,{w:s,h:c}=e,r=(d,v,g)=>{let u=Mn(d)*g,E=Mn(v)*g;if(u===E){const T=xe(d),H=xe(v);E=T>H?0:E,u=T<H?0:u}return u=u===E?0:u,[u+0,E+0]},[a,i]=r(n.x,o.x,s),[f,l]=r(n.y,o.y,c);return{D:{x:a,y:f},M:{x:i,y:l}}},Ue=({D:t,M:e})=>{const n=(o,s)=>o===0&&o<=s;return{x:n(t.x,e.x),y:n(t.y,e.y)}},Rn=({D:t,M:e},n)=>{const o=(s,c,r)=>mo(0,1,(s-r)/(s-c)||0);return{x:o(t.x,e.x,n.x),y:o(t.y,e.y,n.y)}},cn=t=>{t&&t.focus&&t.focus({preventScroll:!0})},Fn=(t,e)=>{Q(yn(e),t)},rn=t=>{const e=new Map,n=(c,r)=>{if(c){const a=e.get(c);Fn((i=>{a&&a[i?"delete":"clear"](i)}),r)}else e.forEach((a=>{a.clear()})),e.clear()},o=(c,r)=>{if(ne(c)){const f=e.get(c)||new Set;return e.set(c,f),Fn((l=>{St(l)&&f.add(l)}),r),k(n,c,r)}He(r)&&r&&n();const a=xt(c),i=[];return Q(a,(f=>{const l=c[f];l&&nt(i,o(f,l))})),k(yt,i)},s=(c,r)=>{Q(Dt(e.get(c)),(a=>{r&&!Le(r)?a.apply(0,r):a()}))};return o(t||{}),[o,n,s]},$o={},Ao={},ys=t=>{Q(t,(e=>Q(e,((n,o)=>{$o[o]=e[o]}))))},Ho=(t,e,n)=>xt(t).map((o=>{const{static:s,instance:c}=t[o],[r,a,i]=n||[],f=n?c:s;if(f){const l=n?f(r,a,e):f(e);return(i||Ao)[o]=l}})),oe=t=>Ao[t],gs="__osOptionsValidationPlugin",jt="data-overlayscrollbars",be="os-environment",ge=`${be}-scrollbar-hidden`,Xe=`${jt}-initialize`,we="noClipping",Vn=`${jt}-body`,Mt=jt,vs="host",It=`${jt}-viewport`,bs=gn,ws=vn,xs="arrange",ko="measuring",Ss="scrolling",Mo="scrollbarHidden",Es="noContent",ln=`${jt}-padding`,qn=`${jt}-content`,Ln="os-size-observer",Cs=`${Ln}-appear`,Ls=`${Ln}-listener`,Os="os-trinsic-observer",Ts="os-theme-none",gt="os-scrollbar",Is=`${gt}-rtl`,$s=`${gt}-horizontal`,As=`${gt}-vertical`,Do=`${gt}-track`,On=`${gt}-handle`,Hs=`${gt}-visible`,ks=`${gt}-cornerless`,Un=`${gt}-interaction`,Xn=`${gt}-unusable`,an=`${gt}-auto-hide`,jn=`${an}-hidden`,Wn=`${gt}-wheel`,Ms=`${Do}-interactive`,Ds=`${On}-interactive`,_s="__osSizeObserverPlugin",Bs=(t,e)=>{const{k:n}=e,[o,s]=t("showNativeOverlaidScrollbars");return[o&&n.x&&n.y,s]},Ft=t=>t.indexOf($t)===0,Ps=t=>t.replace(`${$t}-`,""),un=(t,e)=>{if(t==="auto")return e?Ut:bt;const n=t||bt;return[bt,Ut,$t].includes(n)?n:bt},zs=(t,e)=>{const{overflowX:n,overflowY:o}=Lt(t,[gn,vn]);return{x:un(n,e.x),y:un(o,e.y)}},_o="__osScrollbarsHidingPlugin",Ns="__osClickScrollPlugin",Yn=t=>JSON.stringify(t,((e,n)=>{if(St(n))throw 0;return n})),Kn=(t,e)=>t?`${e}`.split(".").reduce(((n,o)=>n&&fo(n,o)?n[o]:void 0),t):void 0,Rs={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Bo=(t,e)=>{const n={},o=Zt(xt(e),xt(t));return Q(o,(s=>{const c=t[s],r=e[s];if(Se(c)&&Se(r))U(n[s]={},Bo(c,r)),bn(n[s])&&delete n[s];else if(fo(e,s)&&r!==c){let a=!0;if(wt(c)||wt(r))try{Yn(c)===Yn(r)&&(a=!1)}catch{}a&&(n[s]=r)}})),n},Qn=(t,e,n)=>o=>[Kn(t,o),n||Kn(e,o)!==void 0];let Po;const Fs=()=>Po,Vs=t=>{Po=t};let je;const qs=()=>{const t=(S,$,M)=>{ft(document.body,S),ft(document.body,S);const D=Co(S),N=qt(S),A=Cn($);return M&&Xt(S),{x:N.h-D.h+A.h,y:N.w-D.w+A.w}},e=S=>{let $=!1;const M=En(S,ge);try{$=Lt(S,"scrollbar-width")==="none"||Lt(S,"display","::-webkit-scrollbar")==="none"}catch{}return M(),$},n=`.${be}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${be} div{width:200%;height:200%;margin:10px 0}.${ge}{scrollbar-width:none!important}.${ge}::-webkit-scrollbar,.${ge}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,s=xo(`<div class="${be}"><div></div><style>${n}</style></div>`)[0],c=s.firstChild,r=s.lastChild,a=Fs();a&&(r.nonce=a);const[i,,f]=rn(),[l,d]=mt({o:t(s,c),i:ve},k(t,s,c,!0)),[v]=d(),g=e(s),u={x:v.x===0,y:v.y===0},E={elements:{host:null,padding:!g,viewport:S=>g&&bo(S)&&S,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},T=U({},Rs),H=k(U,{},T),B=k(U,{},E),W={P:v,k:u,U:g,J:!!Gt,G:k(i,"r"),K:B,Z:S=>U(E,S)&&B(),tt:H,nt:S=>U(T,S)&&H(),ot:U({},E),st:U({},T)};if(Et(s,"style"),Xt(s),Z(pt,"resize",(()=>{f("r",[])})),St(pt.matchMedia)&&!g&&(!u.x||!u.y)){const S=$=>{const M=pt.matchMedia(`(resolution: ${pt.devicePixelRatio}dppx)`);Z(M,"change",(()=>{$(),S($)}),{A:!0})};S((()=>{const[$,M]=l();U(W.P,$),f("r",[M])}))}return W},Ot=()=>(je||(je=qs()),je),Us=(t,e,n)=>{let o=!1;const s=n?new WeakMap:!1,c=()=>{o=!0},r=a=>{if(s&&n){const i=n.map((f=>{const[l,d]=f||[];return[d&&l?(a||vo)(l,t):[],d]}));Q(i,(f=>Q(f[0],(l=>{const d=f[1],v=s.get(l)||[];if(t.contains(l)&&d){const u=Z(l,d,(E=>{o?(u(),s.delete(l)):e(E)}));s.set(l,nt(v,u))}else yt(v),s.delete(l)}))))}};return r(),[c,r]},Gn=(t,e,n,o)=>{let s=!1;const{et:c,ct:r,rt:a,it:i,lt:f,ut:l}=o||{},d=Oe((()=>s&&n(!0)),{p:33,v:99}),[v,g]=Us(t,d,a),u=c||[],E=r||[],T=Zt(u,E),H=(W,S)=>{if(!Le(S)){const $=f||Jt,M=l||Jt,D=[],N=[];let A=!1,w=!1;if(Q(S,(L=>{const{attributeName:C,target:P,type:R,oldValue:X,addedNodes:j,removedNodes:q}=L,K=R==="attributes",V=R==="childList",ot=t===P,I=K&&C,y=I&&wn(P,C||""),p=ne(y)?y:null,b=I&&X!==p,m=no(E,C)&&b;if(e&&(V||!ot)){const h=K&&b,x=h&&i&&Je(P,i),_=(x?!$(P,C,X,p):!K||h)&&!M(L,!!x,t,o);Q(j,(F=>nt(D,F))),Q(q,(F=>nt(D,F))),w=w||_}!e&&ot&&b&&!$(P,C,X,p)&&(nt(N,C),A=A||m)})),g((L=>Ze(D).reduce(((C,P)=>(nt(C,vo(L,P)),Je(P,L)?nt(C,P):C)),[]))),e)return!W&&w&&n(!1),[!1];if(!Le(N)||A){const L=[Ze(N),A];return W||n.apply(0,L),L}}},B=new ss(k(H,!1));return[()=>(B.observe(t,{attributes:!0,attributeOldValue:!0,attributeFilter:T,subtree:e,childList:e,characterData:e}),s=!0,()=>{s&&(v(),B.disconnect(),s=!1)}),()=>{if(s)return d.O(),H(!0,B.takeRecords())}]};let _t=null;const zo=(t,e,n)=>{const{ft:o}=n||{},s=oe(_s),[c]=mt({o:!1,u:!0});return()=>{const r=[],i=xo(`<div class="${Ln}"><div class="${Ls}"></div></div>`)[0],f=i.firstChild,l=d=>{const v=wt(d)&&!Le(d);let g=!1,u=!1;if(v){const E=d[0],[T,,H]=c(E.contentRect),B=on(T);u=Lo(T,H),g=!u&&!B}else u=d===!0;g||e({_t:!0,ft:u})};if(zt){if(!He(_t)){const u=new zt(Jt);u.observe(t,{get box(){_t=!0}}),_t=_t||!1,u.disconnect()}const d=Oe(l,{p:0,v:0}),v=u=>d(u),g=new zt(v);if(g.observe(_t?t:f),nt(r,[()=>{g.disconnect()},!_t&&ft(t,i)]),_t){const u=new zt(v);u.observe(t,{box:"border-box"}),nt(r,(()=>u.disconnect()))}}else if(s){const[d,v]=s(f,l,o);nt(r,Zt([En(i,Cs),Z(i,"animationstart",d),ft(t,i)],v))}else return Jt;return k(yt,r)}},Xs=(t,e)=>{let n;const o=i=>i.h===0||i.isIntersecting||i.intersectionRatio>0,s=Vt(Os),[c]=mt({o:!1}),r=(i,f)=>{if(i){const l=c(o(i)),[,d]=l;return d&&!f&&e(l)&&[l]}},a=(i,f)=>r(f.pop(),i);return[()=>{const i=[];if(Dn)n=new Dn(k(a,!1),{root:t}),n.observe(s),nt(i,(()=>{n.disconnect()}));else{const f=()=>{const l=qt(s);r(l)};nt(i,zo(s,f)()),f()}return k(yt,nt(i,ft(t,s)))},()=>n&&a(!0,n.takeRecords())]},js=(t,e,n,o)=>{let s,c,r,a,i,f;const l=`[${Mt}]`,d=`[${It}]`,v=["id","class","style","open","wrap","cols","rows"],{dt:g,vt:u,L:E,gt:T,ht:H,V:B,bt:W,wt:S,yt:$,St:M}=t,D=m=>Lt(m,"direction")==="rtl",N={Ot:!1,B:D(g)},A=Ot(),w=oe(_o),[L]=mt({i:uo,o:{w:0,h:0}},(()=>{const m=w&&w.R(t,e,N,A,n).Y,x=!(W&&B)&&Sn(u,Mt,we),O=!B&&S(xs),_=O&&ht(T),F=_&&M(),J=$(ko,x),Y=O&&m&&m(),tt=Ie(E),z=Cn(E);return Y&&Y(),Ct(T,_),F&&F(),x&&J(),{w:tt.w+z.w,h:tt.h+z.h}})),C=Oe(o,{p:()=>s,v:()=>c,m(m,h){const[x]=m,[O]=h;return[Zt(xt(x),xt(O)).reduce(((_,F)=>(_[F]=x[F]||O[F],_)),{})]}}),P=m=>{const h=D(g);U(m,{Ct:f!==h}),U(N,{B:h}),f=h},R=(m,h)=>{const[x,O]=m,_={$t:O};return U(N,{Ot:x}),h||o(_),_},X=({_t:m,ft:h})=>{const O=!(m&&!h)&&A.U?C:o,_={_t:m||h,ft:h};P(_),O(_)},j=(m,h)=>{const[,x]=L(),O={xt:x};return P(O),x&&!h&&(m?o:C)(O),O},q=(m,h,x)=>{const O={Ht:h};return P(O),h&&!x&&C(O),O},[K,V]=H?Xs(u,R):[],ot=!B&&zo(u,X,{ft:!0}),[I,y]=Gn(u,!1,q,{ct:v,et:v}),p=B&&zt&&new zt((m=>{const h=m[m.length-1].contentRect;X({_t:!0,ft:Lo(h,i)}),i=h})),b=Oe((()=>{const[,m]=L();o({xt:m,_t:W})}),{p:222,S:!0});return[()=>{p&&p.observe(u);const m=ot&&ot(),h=K&&K(),x=I(),O=A.G((_=>{_?C({Et:_}):b()}));return()=>{p&&p.disconnect(),m&&m(),h&&h(),a&&a(),x(),O()}},({zt:m,Tt:h,It:x})=>{const O={},[_]=m("update.ignoreMutation"),[F,J]=m("update.attributes"),[Y,tt]=m("update.elementEvents"),[z,rt]=m("update.debounce"),ut=tt||J,it=h||x,at=et=>St(_)&&_(et);if(ut){r&&r(),a&&a();const[et,st]=Gn(H||E,!0,j,{et:Zt(v,F||[]),rt:Y,it:l,ut:(ct,G)=>{const{target:lt,attributeName:dt}=ct;return(!G&&dt&&!B?ls(lt,l,d):!1)||!!Rt(lt,`.${gt}`)||!!at(ct)}});a=et(),r=st}if(rt)if(C.O(),wt(z)){const et=z[0],st=z[1];s=At(et)&&et,c=At(st)&&st}else At(z)?(s=z,c=!1):(s=!1,c=!1);if(it){const et=y(),st=V&&V(),ct=r&&r();et&&U(O,q(et[0],et[1],it)),st&&U(O,R(st[0],it)),ct&&U(O,j(ct[0],it))}return P(O),O},N]},No=(t,e)=>St(e)?e.apply(0,t):e,Ws=(t,e,n,o)=>{const s=mn(o)?n:o;return No(t,s)||e.apply(0,t)},Ro=(t,e,n,o)=>{const s=mn(o)?n:o,c=No(t,s);return!!c&&(Ce(c)?c:e.apply(0,t))},Ys=(t,e)=>{const{nativeScrollbarsOverlaid:n,body:o}=e||{},{k:s,U:c,K:r}=Ot(),{nativeScrollbarsOverlaid:a,body:i}=r().cancel,f=n??a,l=mn(o)?i:o,d=(s.x||s.y)&&f,v=t&&(Ae(l)?!c:l);return!!d||!!v},Ks=(t,e,n,o)=>{const s="--os-viewport-percent",c="--os-scroll-percent",r="--os-scroll-direction",{K:a}=Ot(),{scrollbars:i}=a(),{slot:f}=i,{dt:l,vt:d,L:v,At:g,gt:u,bt:E,V:T}=e,{scrollbars:H}=g?{}:t,{slot:B}=H||{},W=[],S=[],$=[],M=Ro([l,d,v],(()=>T&&E?l:d),f,B),D=I=>{if(Gt){let y=null,p=[];const b=new Gt({source:u,axis:I}),m=()=>{y&&y.cancel(),y=null};return{kt:x=>{const{Dt:O}=n,_=Ue(O)[I],F=I==="x",J=[Ve(0,F),Ve(`calc(100cq${F?"w":"h"} + -100%)`,F)],Y=_?J:J.reverse();return p[0]===Y[0]&&p[1]===Y[1]||(m(),p=Y,y=x.Mt.animate({clear:["left"],transform:Y},{timeline:b})),m}}}},N={x:D("x"),y:D("y")},A=()=>{const{Rt:I,Vt:y}=n,p=(b,m)=>mo(0,1,b/(b+m)||0);return{x:p(y.x,I.x),y:p(y.y,I.y)}},w=(I,y,p)=>{const b=p?En:go;Q(I,(m=>{b(m.Lt,y)}))},L=(I,y)=>{Q(I,(p=>{const[b,m]=y(p);ee(b,m)}))},C=(I,y,p)=>{const b=He(p),m=b?p:!0,h=b?!p:!0;m&&w(S,I,y),h&&w($,I,y)},P=()=>{const I=A(),y=p=>b=>[b.Lt,{[s]:nn(p)+""}];L(S,y(I.x)),L($,y(I.y))},R=()=>{if(!Gt){const{Dt:I}=n,y=Rn(I,ht(u)),p=b=>m=>[m.Lt,{[c]:nn(b)+""}];L(S,p(y.x)),L($,p(y.y))}},X=()=>{const{Dt:I}=n,y=Ue(I),p=b=>m=>[m.Lt,{[r]:b?"0":"1"}];L(S,p(y.x)),L($,p(y.y)),Gt&&(S.forEach(N.x.kt),$.forEach(N.y.kt))},j=()=>{if(T&&!E){const{Rt:I,Dt:y}=n,p=Ue(y),b=Rn(y,ht(u)),m=h=>{const{Lt:x}=h,O=te(x)===v&&x,_=(F,J,Y)=>{const tt=J*F;return Eo(Y?tt:-tt)};return[O,O&&{transform:Ve({x:_(b.x,I.x,p.x),y:_(b.y,I.y,p.y)})}]};L(S,m),L($,m)}},q=I=>{const y=I?"x":"y",b=Vt(`${gt} ${I?$s:As}`),m=Vt(Do),h=Vt(On),x={Lt:b,Ut:m,Mt:h},O=N[y];return nt(I?S:$,x),nt(W,[ft(b,m),ft(m,h),k(Xt,b),O&&O.kt(x),o(x,C,I)]),x},K=k(q,!0),V=k(q,!1),ot=()=>(ft(M,S[0].Lt),ft(M,$[0].Lt),k(yt,W));return K(),V(),[{Pt:P,Nt:R,qt:X,Bt:j,Ft:C,jt:{Xt:S,Yt:K,Wt:k(L,S)},Jt:{Xt:$,Yt:V,Wt:k(L,$)}},ot]},Qs=(t,e,n,o)=>(s,c,r)=>{const{vt:a,L:i,V:f,gt:l,Gt:d,St:v}=e,{Lt:g,Ut:u,Mt:E}=s,[T,H]=Nt(333),[B,W]=Nt(444),S=D=>{St(l.scrollBy)&&l.scrollBy({behavior:"smooth",left:D.x,top:D.y})},$=()=>{const D="pointerup pointercancel lostpointercapture",N=`client${r?"X":"Y"}`,A=r?Me:De,w=r?"left":"top",L=r?"w":"h",C=r?"x":"y",P=(X,j)=>q=>{const{Rt:K}=n,V=qt(u)[L]-qt(E)[L],I=j*q/V*K[C];Ct(l,{[C]:X+I})},R=[];return Z(u,"pointerdown",(X=>{const j=Rt(X.target,`.${On}`)===E,q=j?E:u,K=t.scrollbars,V=K[j?"dragScroll":"clickScroll"],{button:ot,isPrimary:I,pointerType:y}=X,{pointers:p}=K;if(ot===0&&I&&V&&(p||[]).includes(y)){yt(R),W();const m=!j&&(X.shiftKey||V==="instant"),h=k(qe,E),x=k(qe,u),O=(G,lt)=>(G||h())[w]-(lt||x())[w],_=Ge(qe(l)[A])/qt(l)[L]||1,F=P(ht(l)[C],1/_),J=X[N],Y=h(),tt=x(),z=Y[A],rt=O(Y,tt)+z/2,ut=J-tt[w],it=j?0:ut-rt,at=G=>{yt(ct),q.releasePointerCapture(G.pointerId)},et=j||m,st=v(),ct=[Z(d,D,at),Z(d,"selectstart",(G=>sn(G)),{T:!1}),Z(u,D,at),et&&Z(u,"pointermove",(G=>F(it+(G[N]-J)))),et&&(()=>{const G=ht(l);st();const lt=ht(l),dt={x:lt.x-G.x,y:lt.y-G.y};(xe(dt.x)>3||xe(dt.y)>3)&&(v(),Ct(l,G),S(dt),B(st))})];if(q.setPointerCapture(X.pointerId),m)F(it);else if(!j){const G=oe(Ns);if(G){const lt=G(F,it,z,(dt=>{dt?st():nt(ct,st)}));nt(ct,lt),nt(R,k(lt,!0))}}}}))};let M=!0;return k(yt,[Z(E,"pointermove pointerleave",o),Z(g,"pointerenter",(()=>{c(Un,!0)})),Z(g,"pointerleave pointercancel",(()=>{c(Un,!1)})),!f&&Z(g,"mousedown",(()=>{const D=en();(Bn(D,It)||Bn(D,Mt)||D===document.body)&&pn(k(cn,i),25)})),Z(g,"wheel",(D=>{const{deltaX:N,deltaY:A,deltaMode:w}=D;M&&w===0&&te(g)===a&&S({x:N,y:A}),M=!1,c(Wn,!0),T((()=>{M=!0,c(Wn)})),sn(D)}),{T:!1,I:!0}),Z(g,"pointerdown",(()=>{const D=Z(d,"click",(A=>{N(),To(A)}),{A:!0,I:!0,T:!1}),N=Z(d,"pointerup pointercancel",(()=>{N(),setTimeout(D,150)}),{I:!0,T:!0})}),{I:!0,T:!0}),$(),H,W])},Gs=(t,e,n,o,s,c)=>{let r,a,i,f,l,d=Jt,v=0;const g=["mouse","pen"],u=y=>g.includes(y.pointerType),[E,T]=Nt(),[H,B]=Nt(100),[W,S]=Nt(100),[$,M]=Nt((()=>v)),[D,N]=Ks(t,s,o,Qs(e,s,o,(y=>u(y)&&K()))),{vt:A,Kt:w,bt:L}=s,{Ft:C,Pt:P,Nt:R,qt:X,Bt:j}=D,q=(y,p)=>{if(M(),y)C(jn);else{const b=k(C,jn,!0);v>0&&!p?$(b):b()}},K=()=>{(i?!r:!f)&&(q(!0),H((()=>{q(!1)})))},V=y=>{C(an,y,!0),C(an,y,!1)},ot=y=>{u(y)&&(r=i,i&&q(!0))},I=[M,B,S,T,()=>d(),Z(A,"pointerover",ot,{A:!0}),Z(A,"pointerenter",ot),Z(A,"pointerleave",(y=>{u(y)&&(r=!1,i&&q(!1))})),Z(A,"pointermove",(y=>{u(y)&&a&&K()})),Z(w,"scroll",(y=>{E((()=>{R(),K()})),c(y),j()}))];return[()=>k(yt,nt(I,N())),({zt:y,It:p,Qt:b,Zt:m})=>{const{tn:h,nn:x,sn:O,en:_}=m||{},{Ct:F,ft:J}=b||{},{B:Y}=n,{k:tt}=Ot(),{cn:z,j:rt}=o,[ut,it]=y("showNativeOverlaidScrollbars"),[at,et]=y("scrollbars.theme"),[st,ct]=y("scrollbars.visibility"),[G,lt]=y("scrollbars.autoHide"),[dt,Wt]=y("scrollbars.autoHideSuspend"),[se]=y("scrollbars.autoHideDelay"),[ce,re]=y("scrollbars.dragScroll"),[ie,le]=y("scrollbars.clickScroll"),[kt,Yt]=y("overflow"),ze=J&&!p,Ne=rt.x||rt.y,Re=h||x||_||F||p,Fe=O||ct||Yt,vt=ut&&tt.x&&tt.y,ae=(Pt,Kt,ue)=>{const de=Pt.includes(Ut)&&(st===$t||st==="auto"&&Kt===Ut);return C(Hs,de,ue),de};if(v=se,ze&&(dt&&Ne?(V(!1),d(),W((()=>{d=Z(w,"scroll",k(V,!0),{A:!0})}))):V(!0)),it&&C(Ts,vt),et&&(C(l),C(at,!0),l=at),Wt&&!dt&&V(!0),lt&&(a=G==="move",i=G==="leave",f=G==="never",q(f,!0)),re&&C(Ds,ce),le&&C(Ms,!!ie),Fe){const Pt=ae(kt.x,z.x,!0),Kt=ae(kt.y,z.y,!1);C(ks,!(Pt&&Kt))}Re&&(R(),P(),j(),_&&X(),C(Xn,!rt.x,!0),C(Xn,!rt.y,!1),C(Is,Y&&!L))},{},D]},Zs=t=>{const e=Ot(),{K:n,U:o}=e,{elements:s}=n(),{padding:c,viewport:r,content:a}=s,i=Ce(t),f=i?{}:t,{elements:l}=f,{padding:d,viewport:v,content:g}=l||{},u=i?t:f.target,E=bo(u),T=u.ownerDocument,H=T.documentElement,B=()=>T.defaultView||pt,W=k(Ws,[u]),S=k(Ro,[u]),$=k(Vt,""),M=k(W,$,r),D=k(S,$,a),N=z=>{const rt=qt(z),ut=Ie(z),it=Lt(z,gn),at=Lt(z,vn);return ut.w-rt.w>0&&!Ft(it)||ut.h-rt.h>0&&!Ft(at)},A=M(v),w=A===u,L=w&&E,C=!w&&D(g),P=!w&&A===C,R=L?H:A,X=L?R:u,j=!w&&S($,c,d),q=!P&&C,K=[q,R,j,X].map((z=>Ce(z)&&!te(z)&&z)),V=z=>z&&no(K,z),ot=!V(R)&&N(R)?R:u,I=L?H:R,p={dt:u,vt:X,L:R,rn:j,ht:q,gt:I,Kt:L?T:R,ln:E?H:ot,Gt:T,bt:E,At:i,V:w,an:B,wt:z=>Sn(R,It,z),yt:(z,rt)=>Te(R,It,z,rt),St:()=>Te(I,It,Ss,!0)},{dt:b,vt:m,rn:h,L:x,ht:O}=p,_=[()=>{Et(m,[Mt,Xe]),Et(b,Xe),E&&Et(H,[Xe,Mt])}];let F=tn([O,x,h,m,b].find((z=>z&&!V(z))));const J=L?b:O||x,Y=k(yt,_);return[p,()=>{const z=B(),rt=en(),ut=ct=>{ft(te(ct),tn(ct)),Xt(ct)},it=ct=>Z(ct,"focusin focusout focus blur",To,{I:!0,T:!1}),at="tabindex",et=wn(x,at),st=it(rt);return Tt(m,Mt,w?"":vs),Tt(h,ln,""),Tt(x,It,""),Tt(O,qn,""),w||(Tt(x,at,et||"-1"),E&&Tt(H,Vn,"")),ft(J,F),ft(m,h),ft(h||m,!w&&x),ft(x,O),nt(_,[st,()=>{const ct=en(),G=V(x),lt=G&&ct===x?b:ct,dt=it(lt);Et(h,ln),Et(O,qn),Et(x,It),E&&Et(H,Vn),et?Tt(x,at,et):Et(x,at),V(O)&&ut(O),G&&ut(x),V(h)&&ut(h),cn(lt),dt()}]),o&&!w&&(xn(x,It,Mo),nt(_,k(Et,x,It))),cn(!w&&E&&rt===b&&z.top===z?x:rt),st(),F=0,Y},Y]},Js=({ht:t})=>({Qt:e,un:n,It:o})=>{const{$t:s}=e||{},{Ot:c}=n;t&&(s||o)&&ee(t,{[De]:c&&"100%"})},tc=({vt:t,rn:e,L:n,V:o},s)=>{const[c,r]=mt({i:rs,o:zn()},k(zn,t,"padding",""));return({zt:a,Qt:i,un:f,It:l})=>{let[d,v]=r(l);const{U:g}=Ot(),{_t:u,xt:E,Ct:T}=i||{},{B:H}=f,[B,W]=a("paddingAbsolute");(u||v||(l||E))&&([d,v]=c(l));const $=!o&&(W||T||v);if($){const M=!B||!e&&!g,D=d.r+d.l,N=d.t+d.b,A={[lo]:M&&!H?-D:0,[ao]:M?-N:0,[io]:M&&H?-D:0,top:M?-d.t:0,right:M?H?-d.r:"auto":0,left:M?H?"auto":-d.l:0,[Me]:M&&`calc(100% + ${D}px)`},w={[oo]:M?d.t:0,[so]:M?d.r:0,[ro]:M?d.b:0,[co]:M?d.l:0};ee(e||n,A),ee(n,w),U(s,{rn:d,fn:!M,F:e?w:U({},A,w)})}return{_n:$}}},ec=(t,e)=>{const n=Ot(),{vt:o,rn:s,L:c,V:r,Kt:a,gt:i,bt:f,yt:l,an:d}=t,{U:v}=n,g=f&&r,u=k(Jn,0),E={display:()=>!1,direction:p=>p!=="ltr",flexDirection:p=>p.endsWith("-reverse"),writingMode:p=>p!=="horizontal-tb"},T=xt(E),H={i:uo,o:{w:0,h:0}},B={i:ve,o:{}},W=p=>{l(ko,!g&&p)},S=p=>{if(!T.some((Y=>{const tt=p[Y];return tt&&E[Y](tt)})))return{D:{x:0,y:0},M:{x:1,y:1}};W(!0);const m=ht(i),h=l(Es,!0),x=Z(a,Ut,(Y=>{const tt=ht(i);Y.isTrusted&&tt.x===m.x&&tt.y===m.y&&Oo(Y)}),{I:!0,A:!0});Ct(i,{x:0,y:0}),h();const O=ht(i),_=Ie(i);Ct(i,{x:_.w,y:_.h});const F=ht(i);Ct(i,{x:F.x-O.x<1&&-_.w,y:F.y-O.y<1&&-_.h});const J=ht(i);return Ct(i,m),fn((()=>x())),{D:O,M:J}},$=(p,b)=>{const m=pt.devicePixelRatio%1!==0?1:0,h={w:u(p.w-b.w),h:u(p.h-b.h)};return{w:h.w>m?h.w:0,h:h.h>m?h.h:0}},M=(p,b)=>{const m=(h,x,O,_)=>{const F=h===$t?bt:Ps(h),J=Ft(h),Y=Ft(O);return!x&&!_?bt:J&&Y?$t:J?x&&_?F:x?$t:bt:x?F:Y&&_?$t:bt};return{x:m(b.x,p.x,b.y,p.y),y:m(b.y,p.y,b.x,p.x)}},D=p=>{const b=h=>[$t,bt,Ut].map((x=>y(un(x),h))),m=b(!0).concat(b()).join(" ");l(m),l(xt(p).map((h=>y(p[h],h==="x"))).join(" "),!0)},[N,A]=mt(H,k(Cn,c)),[w,L]=mt(H,k(Ie,c)),[C,P]=mt(H),[R]=mt(B),[X,j]=mt(H),[q]=mt(B),[K]=mt({i:(p,b)=>_e(p,b,T),o:{}},(()=>ms(c)?Lt(c,T):{})),[V,ot]=mt({i:(p,b)=>ve(p.D,b.D)&&ve(p.M,b.M),o:Io()}),I=oe(_o),y=(p,b)=>`${b?bs:ws}${cs(p)}`;return({zt:p,Qt:b,un:m,It:h},{_n:x})=>{const{_t:O,Ht:_,xt:F,Ct:J,ft:Y,Et:tt}=b||{},z=I&&I.R(t,e,m,n,p),{X:rt,Y:ut,W:it}=z||{},[at,et]=Bs(p,n),[st,ct]=p("overflow"),G=Ft(st.x),lt=Ft(st.y),dt=O||x||F||J||tt||et;let Wt=A(h),se=L(h),ce=P(h),re=j(h);if(et&&v&&l(Mo,!at),dt){Sn(o,Mt,we)&&W(!0);const An=ut&&ut(),[fe]=Wt=N(h),[pe]=se=w(h),me=Co(c),he=g&&ps(d()),Wo={w:u(pe.w+fe.w),h:u(pe.h+fe.h)},Hn={w:u((he?he.w:me.w+u(me.w-pe.w))+fe.w),h:u((he?he.h:me.h+u(me.h-pe.h))+fe.h)};An&&An(),re=X(Hn),ce=C($(Wo,Hn),h)}const[ie,le]=re,[kt,Yt]=ce,[ze,Ne]=se,[Re,Fe]=Wt,[vt,ae]=R({x:kt.w>0,y:kt.h>0}),Pt=G&&lt&&(vt.x||vt.y)||G&&vt.x&&!vt.y||lt&&vt.y&&!vt.x,Kt=x||J||tt||Fe||Ne||le||Yt||ct||et||dt||_&&g,[ue,de]=K(h),$n=J||Y||de||ae||h,[qo,Uo]=$n?V(S(ue),h):ot();let Qt=M(vt,st);W(!1),Kt&&(D(Qt),Qt=zs(c,vt),it&&rt&&(rt(Qt,ze,Re),ee(c,it(Qt))));const[Xo,jo]=q(Qt);return Te(o,Mt,we,Pt),Te(s,ln,we,Pt),U(e,{cn:Xo,Vt:{x:ie.w,y:ie.h},Rt:{x:kt.w,y:kt.h},j:vt,Dt:hs(qo,kt)}),{sn:jo,tn:le,nn:Yt,en:Uo||Yt,dn:$n}}},nc=t=>{const[e,n,o]=Zs(t),s={rn:{t:0,r:0,b:0,l:0},fn:!1,F:{[lo]:0,[ao]:0,[io]:0,[oo]:0,[so]:0,[ro]:0,[co]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},cn:{x:bt,y:bt},j:{x:!1,y:!1},Dt:Io()},{dt:c,gt:r,V:a,St:i}=e,{U:f,k:l}=Ot(),d=!f&&(l.x||l.y),v=[Js(e),tc(e,s),ec(e,s)];return[n,g=>{const u={},T=d&&ht(r),H=T&&i();return Q(v,(B=>{U(u,B(g,u)||{})})),Ct(r,T),H&&H(),a||Ct(c,0),u},s,e,o]},oc=(t,e,n,o,s)=>{let c=!1;const r=Qn(e,{}),[a,i,f,l,d]=nc(t),[v,g,u]=js(l,f,r,(S=>{W({},S)})),[E,T,,H]=Gs(t,e,u,f,l,s),B=S=>xt(S).some(($=>!!S[$])),W=(S,$)=>{if(n())return!1;const{pn:M,It:D,Tt:N,vn:A}=S,w=M||{},L=!!D||!c,C={zt:Qn(e,w,L),pn:w,It:L};if(A)return T(C),!1;const P=$||g(U({},C,{Tt:N})),R=i(U({},C,{un:u,Qt:P}));T(U({},C,{Qt:P,Zt:R}));const X=B(P),j=B(R),q=X||j||!bn(w)||L;return c=!0,q&&o(S,{Qt:P,Zt:R}),q};return[()=>{const{ln:S,gt:$,St:M}=l,D=ht(S),N=[v(),a(),E()],A=M();return Ct($,D),A(),k(yt,N)},W,()=>({gn:u,hn:f}),{bn:l,wn:H},d]},Tn=new WeakMap,sc=(t,e)=>{Tn.set(t,e)},cc=t=>{Tn.delete(t)},Fo=t=>Tn.get(t),Ht=(t,e,n)=>{const{tt:o}=Ot(),s=Ce(t),c=s?t:t.target,r=Fo(c);if(e&&!r){let a=!1;const i=[],f={},l=w=>{const L=po(w),C=oe(gs);return C?C(L,!0):L},d=U({},o(),l(e)),[v,g,u]=rn(),[E,T,H]=rn(n),B=(w,L)=>{H(w,L),u(w,L)},[W,S,$,M,D]=oc(t,d,(()=>a),(({pn:w,It:L},{Qt:C,Zt:P})=>{const{_t:R,Ct:X,$t:j,xt:q,Ht:K,ft:V}=C,{tn:ot,nn:I,sn:y,en:p}=P;B("updated",[A,{updateHints:{sizeChanged:!!R,directionChanged:!!X,heightIntrinsicChanged:!!j,overflowEdgeChanged:!!ot,overflowAmountChanged:!!I,overflowStyleChanged:!!y,scrollCoordinatesChanged:!!p,contentMutation:!!q,hostMutation:!!K,appear:!!V},changedOptions:w||{},force:!!L}])}),(w=>B("scroll",[A,w]))),N=w=>{cc(c),yt(i),a=!0,B("destroyed",[A,w]),g(),T()},A={options(w,L){if(w){const C=L?o():{},P=Bo(d,U(C,l(w)));bn(P)||(U(d,P),S({pn:P}))}return U({},d)},on:E,off:(w,L)=>{w&&L&&T(w,L)},state(){const{gn:w,hn:L}=$(),{B:C}=w,{Vt:P,Rt:R,cn:X,j,rn:q,fn:K,Dt:V}=L;return U({},{overflowEdge:P,overflowAmount:R,overflowStyle:X,hasOverflow:j,scrollCoordinates:{start:V.D,end:V.M},padding:q,paddingAbsolute:K,directionRTL:C,destroyed:a})},elements(){const{dt:w,vt:L,rn:C,L:P,ht:R,gt:X,Kt:j}=M.bn,{jt:q,Jt:K}=M.wn,V=I=>{const{Mt:y,Ut:p,Lt:b}=I;return{scrollbar:b,track:p,handle:y}},ot=I=>{const{Xt:y,Yt:p}=I,b=V(y[0]);return U({},b,{clone:()=>{const m=V(p());return S({vn:!0}),m}})};return U({},{target:w,host:L,padding:C||P,viewport:P,content:R||P,scrollOffsetElement:X,scrollEventElement:j,scrollbarHorizontal:ot(q),scrollbarVertical:ot(K)})},update:w=>S({It:w,Tt:!0}),destroy:k(N,!1),plugin:w=>f[xt(w)[0]]};return nt(i,[D]),sc(c,A),Ho($o,Ht,[A,v,f]),Ys(M.bn.bt,!s&&t.cancel)?(N(!0),A):(nt(i,W()),B("initialized",[A]),A.update(),A)}return r};Ht.plugin=t=>{const e=wt(t),n=e?t:[t],o=n.map((s=>Ho(s,Ht)[0]));return ys(n),e?o:o[0]};Ht.valid=t=>{const e=t&&t.elements,n=St(e)&&e();return Ee(n)&&!!Fo(n.target)};Ht.env=()=>{const{P:t,k:e,U:n,J:o,ot:s,st:c,K:r,Z:a,tt:i,nt:f}=Ot();return U({},{scrollbarsSize:t,scrollbarsOverlaid:e,scrollbarsHiding:n,scrollTimeline:o,staticDefaultInitialization:s,staticDefaultOptions:c,getDefaultInitialization:r,setDefaultInitialization:a,getDefaultOptions:i,setDefaultOptions:f})};Ht.nonce=Vs;Ht.trustedTypePolicy=us;const dn=!!document.getElementById("banner-wrapper");function In(t,e){document.addEventListener("click",n=>{let o=document.getElementById(t),s=n.target;if(s instanceof Node){for(let c of e){let r=document.getElementById(c);if(r==s||r?.contains(s))return}o.classList.add("float-panel-closed")}})}In("display-setting",["display-setting","display-settings-switch"]);In("nav-menu-panel",["nav-menu-panel","nav-menu-switch"]);In("search-panel",["search-panel","search-bar","search-switch"]);function rc(){const t=Ko();Qo(t)}function ic(){Go(Zo())}function Vo(){requestIdleCallback(()=>{const t=document.querySelector("body");if(!t)return;Ht({target:t,cancel:{nativeScrollbarsOverlaid:!0}},{scrollbars:{theme:"scrollbar-base scrollbar-auto py-1",autoHide:"move",autoHideDelay:800,autoHideSuspend:!1}});const e=document.querySelectorAll(".katex-display");if(e.length===0)return;const n=new IntersectionObserver((o,s)=>{o.forEach(c=>{if(c.isIntersecting){const r=c.target;if(!r.parentNode||r.hasAttribute("data-scrollbar-initialized"))return;const a=document.createElement("div");a.className="katex-display-container",r.parentNode.insertBefore(a,r),a.appendChild(r),Ht(a,{scrollbars:{theme:"scrollbar-base scrollbar-auto",autoHide:"leave",autoHideDelay:800}}),r.setAttribute("data-scrollbar-initialized","true"),s.unobserve(c.target)}})},{root:null,rootMargin:"200px",threshold:.1});e.forEach(o=>{n.observe(o)})})}function lc(){requestAnimationFrame(()=>{const t=document.getElementById("banner");t&&t.classList.remove("opacity-0","scale-105");const e=document.querySelector('.block.lg\\:hidden[alt="Mobile banner image of the blog"]');e&&!document.getElementById("banner-carousel")&&(e.classList.remove("opacity-0","scale-105"),e.classList.add("opacity-100")),document.getElementById("banner-carousel")&&ac()})}function ac(){const t=document.querySelectorAll(".carousel-item"),e=window.innerWidth<1024,n=Array.from(t).filter(o=>e?o.querySelector(".block.lg\\:hidden"):o.querySelector(".hidden.lg\\:block"));if(n.length>1,n.length>1&&kn.banner.carousel?.enable){let o=function(g){const u=n[c];u.classList.remove("opacity-100","scale-100"),u.classList.add("opacity-0","scale-110"),c=g;const E=n[c];E.classList.add("opacity-100","scale-100"),E.classList.remove("opacity-0","scale-110")},s=function(){clearInterval(a),a=setInterval(()=>{if(!i){const g=(c+1)%n.length;o(g)}},r*1e3)},c=0;const r=kn.banner.carousel?.interval;let a,i=!1,f=0,l=0,d=!1;const v=document.getElementById("banner-carousel");t.forEach(g=>{g.classList.add("opacity-0","scale-110"),g.classList.remove("opacity-100","scale-100")}),n.length>0&&(n[0].classList.add("opacity-100","scale-100"),n[0].classList.remove("opacity-0","scale-110")),v&&"ontouchstart"in window&&(v.addEventListener("touchstart",g=>{f=g.touches[0].clientX,l=g.touches[0].clientY,d=!1,i=!0,clearInterval(a)},{passive:!0}),v.addEventListener("touchmove",g=>{if(!f||!l)return;const u=Math.abs(g.touches[0].clientX-f),E=Math.abs(g.touches[0].clientY-l);u>E&&u>30&&(d=!0,g.preventDefault())},{passive:!1}),v.addEventListener("touchend",g=>{if(!f||!l||!d){i=!1,s();return}const u=g.changedTouches[0].clientX,E=f-u;if(Math.abs(E)>50)if(E>0){const T=(c+1)%n.length;o(T)}else{const T=(c-1+n.length)%n.length;o(T)}f=0,l=0,d=!1,i=!1,s()},{passive:!0})),v&&(v.addEventListener("mouseenter",()=>{i=!0,clearInterval(a)}),v.addEventListener("mouseleave",()=>{i=!1,s()})),s()}}function uc(){rc(),ic(),Vo(),lc()}uc();const Zn=()=>{window.swup.hooks.on("link:click",()=>{if(document.documentElement.style.setProperty("--content-delay","0ms"),dn){const t=document.getElementById("navbar-wrapper");if(t&&document.body.classList.contains("lg:is-home")){const e=window.innerHeight*(Qe/100)-88;document.documentElement.scrollTop>=e&&t.classList.add("navbar-hidden")}}}),window.swup.hooks.on("content:replace",()=>{Vo();const t=document.querySelector("table-of-contents");t&&typeof t.init=="function"&&setTimeout(()=>{t.init()},100),typeof window.mobileTOCInit=="function"&&setTimeout(()=>{window.mobileTOCInit()},100),setTimeout(()=>{typeof window.translate<"u"&&window.translate.execute()},100)}),window.swup.hooks.on("visit:start",t=>{const e=document.querySelector("body"),n=ts(t.to.url,es("/"));n?e.classList.add("lg:is-home"):e.classList.remove("lg:is-home");const o=document.querySelector(".banner-text-overlay");o&&(n?o.classList.remove("hidden"):o.classList.add("hidden"));const s=document.getElementById("banner-wrapper"),c=document.querySelector(".absolute.w-full.z-30");s&&c&&(n?(setTimeout(()=>{s.classList.remove("mobile-hide-banner")},100),setTimeout(()=>{c.classList.remove("mobile-main-no-banner")},150)):(s.classList.add("mobile-hide-banner"),setTimeout(()=>{c.classList.add("mobile-main-no-banner")},100)));const r=document.getElementById("page-height-extend");r&&r.classList.remove("hidden");let a=document.getElementById("toc-wrapper");a&&a.classList.add("toc-not-ready")}),window.swup.hooks.on("page:view",()=>{const t=document.getElementById("page-height-extend");t&&t.classList.remove("hidden"),window.scrollTo({top:0,behavior:"instant"}),setTimeout(()=>{if(document.getElementById("tcomment")){const e=new CustomEvent("mizuki:page:loaded",{detail:{path:window.location.pathname,timestamp:Date.now()}});document.dispatchEvent(e),console.log("Layout: 触发 mizuki:page:loaded 事件，路径:",window.location.pathname)}},300)}),window.swup.hooks.on("visit:end",t=>{setTimeout(()=>{const e=document.getElementById("page-height-extend");e&&e.classList.add("hidden");const n=document.getElementById("toc-wrapper");n&&n.classList.remove("toc-not-ready")},200)})};window?.swup?.hooks?Zn():document.addEventListener("swup:enable",Zn);let We=document.getElementById("back-to-top-btn"),Ye=document.getElementById("toc-wrapper"),Ke=document.getElementById("navbar-wrapper");function dc(t,e){let n;return function(){const o=arguments,s=this;n||(t.apply(s,o),n=!0,setTimeout(()=>n=!1,e))}}function fc(){const t=document.documentElement.scrollTop,e=window.innerHeight*(Qe/100);requestAnimationFrame(()=>{if(We&&(t>e?We.classList.remove("hide"):We.classList.add("hide")),dn&&Ye&&(t>e?Ye.classList.remove("toc-hide"):Ye.classList.add("toc-hide")),dn&&Ke){const o=document.body.classList.contains("lg:is-home")&&window.innerWidth>=1024?Jo:Qe,s=window.innerHeight*(o/100)-88;t>=s?Ke.classList.add("navbar-hidden"):Ke.classList.remove("navbar-hidden")}})}window.onscroll=dc(fc,16);window.onresize=()=>{let t=Math.floor(window.innerHeight*(Yo/100));t=t-t%4,document.documentElement.style.setProperty("--banner-height-extend",`${t}px`)};
